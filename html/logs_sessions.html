<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>用户上机日志</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>
<div class="container py-3">
    <div class="d-flex justify-content-between mb-3">
        <h3>用户上机日志</h3>
        <a href="{{ url_for('index') }}" class="btn btn-sm btn-outline-secondary">返回首页</a>
    </div>

    <table class="table table-sm table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>用户名</th>
            <th>设备</th>
            <th>开始时间</th>
            <th>结束时间</th>
            <th>时长(s)</th>
            <th>费用(元)</th>
            <th>结束原因</th>
        </tr>
        </thead>
        <tbody>
        {% for s in sessions %}
        <tr>
            <td>{{ s.id }}</td>
            <td>{{ s.username }}</td>
            <td>{{ s.device_id }}</td>
            <td>{{ s.start_time }}</td>
            <td>{{ s.end_time }}</td>
            <td>{{ s.duration_sec }}</td>
            <td>{{ "%.2f"|format(s.fee or 0) }}</td>
            <td>{{ s.end_reason }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html>
