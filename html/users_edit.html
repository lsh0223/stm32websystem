<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <title>{{ '编辑用户' if user else '新增用户' }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>
<div class="container py-3">
    <h3 class="mb-3">{{ '编辑用户' if user else '新增用户' }}</h3>
    <form method="post">
        <div class="mb-3">
            <label class="form-label">卡号 UID (如 5394AFF7)</label>
            <input type="text" name="card_uid" class="form-control"
                   value="{{ user.card_uid if user else '' }}"
                   {% if user %}readonly{% endif %}>
        </div>
        <div class="mb-3">
            <label class="form-label">用户名</label>
            <input type="text" name="username" class="form-control"
                   value="{{ user.username if user else '' }}">
        </div>
        <div class="mb-3">
            <label class="form-label">生日 (yyyy-mm-dd)</label>
            <input type="text" name="birthdate" class="form-control"
                   value="{{ user.birthdate if user else '' }}">
        </div>
        {% if not user %}
        <div class="mb-3">
            <label class="form-label">初始余额(元)</label>
            <input type="number" step="0.01" name="balance" class="form-control" value="0.00">
        </div>
        {% else %}
        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" name="is_active" id="chk_active"
                   {% if user.is_active %}checked{% endif %}>
            <label class="form-check-label" for="chk_active">
                启用账户
            </label>
        </div>
        {% endif %}
        <button class="btn btn-primary" type="submit">保存</button>
        <a href="{{ url_for('users_list') }}" class="btn btn-secondary ms-2">返回</a>
    </form>
</div>
</body>
</html>
